<script setup>
import navbar from '@/pages/components/navbar.vue'
import { useNotify, useToast, useMessage } from 'wot-design-uni' // uiç»„ä»¶åº“
import { toNavigation, makePhoneCall, debounce } from '@/utils'
import { useWorkStore } from '@/store'
const { workDetail } = storeToRefs(useWorkStore())
const Toast = useToast()
const workInfo = ref({})
const { safeAreaInsets, windowHeight } = uni.getSystemInfoSync()
const viewportHeight = windowHeight - safeAreaInsets.top + 50 - 80
console.log("ğŸš€ ~ windowHeight:", windowHeight)
console.log("ğŸš€ ~ viewportHeight:", viewportHeight)

onMounted(() => {
  if (workDetail.value) {
    workInfo.value = workDetail.value
    console.log("ğŸš€ ~ onLoad ~ workDetail.value:", workDetail.value)
  } else {
    Toast.warning("æ²¡æœ‰æ‰¾åˆ°è¯¥å·¥å•ä¿¡æ¯")
    setTimeout(() => {
      uni.navigateBack({
        delta: 1
      })
    }, 1000)
  }
})


const copyBtn = (val) => {
  uni.setClipboardData({
    data: val,
    success: function () {
      // Toast.success('å¤åˆ¶æˆåŠŸ')
    }
  })
}
</script>
<template>
  <wd-toast></wd-toast>
  <view class="workDetails">
    <navbar :title="'è¯¦æƒ…'" />
    <view class="details_center">
      <view class="scrol_box">
        <scroll-view class="workInfo_box" :scroll-y="true" :show-scrollbar="false">
          <view class="top_tit">å®¢æˆ·åç§° </view>

          <view class="basic_info">
            <view class="info_item">
              <view class="label">å·¥å•ç¼–å·:</view>
              <view class="value">
                <text>21424235345234634645634</text>
                <image @tap="copyBtn(123)" class="copy" src="http://116.62.107.90:8673/images/icons/copy.png"
                  mode="scaleToFill" />
              </view>
            </view>

            <view class="info_item">
              <view class="label">è”ç³»äºº:</view>
              <view class="value">
                <text>å¼ ä¸‰</text>
              </view>
            </view>


            <view class="info_item">
              <view class="label">è”ç³»ç”µè¯:</view>
              <view class="value">
                <text>12353453464</text>
              </view>
            </view>


            <view class="info_item">
              <view class="label">å·¥å•ç±»å‹:</view>
              <view class="value">
                <text>è½¦è¾†æ–°è£…</text>
              </view>
            </view>


            <view class="info_item">
              <view class="label">æ‰€å±åŒºåŸŸ:</view>
              <view class="value">
                <text>æµ™æ±Ÿçœæ­å·å¸‚è§å±±åŒº</text>
              </view>
            </view>


            <view class="info_item">
              <view class="label">è¯¦ç»†åœ°å€:</view>
              <view class="value">
                <text>æµ™æ±Ÿçœæ­å·å¸‚è§å±±åŒºé˜³å…‰å¤§é“250å·</text>
              </view>
            </view>




          </view>

          <view class="car_boxs" v-for="item in 11">
            <view v-if="1">
              <view class="info_item">
                <view class="label">è½¦ç‰Œå·ç /VINç :</view>
                <view class="value">
                  <text>19</text>
                </view>
              </view>


              <view class="info_item">
                <view class="label">é€šé“æ•°é‡:</view>
                <view class="value">
                  <text>10</text>
                </view>
              </view>


              <view class="info_item">
                <view class="label">è®¾å¤‡å“ç‰Œ:</view>
                <view class="value">
                  <text>æµ·åº·</text>
                </view>
              </view>


              <view class="info_item">
                <view class="label">è®¾å¤‡åºåˆ—å·:</view>
                <view class="value">
                  <text>28192</text>
                </view>
              </view>

              <view class="info_item">
                <view class="label">è®¾å¤‡å‹å·:</view>
                <view class="value">
                  <text>TK28192</text>
                </view>
              </view>


              <view class="info_item">
                <view class="label">Simå¡å·:</view>
                <view class="value">
                  <text>28192</text>
                </view>
              </view>

              <view class="info_item">
                <view class="label">æ•…éšœæ¦‚è¿°:</view>
                <view class="value">
                  <text>simæŸå</text>
                </view>
              </view>

              <view class="info_item">
                <view class="label">è¿ç»´å†…å®¹:</view>
                <view class="value">
                  <text>XXXXXXXX</text>
                </view>
              </view>

              <view class="info_item">
                <view class="label">é¢„æœŸè¿ç»´æ—¶é—´:</view>
                <view class="value">
                  <text>2024-12-12 12:00:00</text>
                </view>
              </view>

              <view class="info_item">
                <view class="label">å¤‡æ³¨:</view>
                <view class="value">
                  <text>â€”â€”</text>
                </view>
              </view>

            </view>

          </view>

        </scroll-view>
        <view class="foot_box">
          <button class="footBtn">è¿”è¿˜</button>
          <button class="footBtn">å¤„ç†</button>
        </view>
      </view>
    </view>
  </view>
</template>
<style lang="scss" scoped>
.workDetails {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100vh;
  overflow: hidden;
  background-color: #f7f7fc;


  .details_center {
    flex: 1;
    padding: 30rpx;
    box-sizing: border-box;


    .scrol_box {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
    }


    .workInfo_box {
      flex: 1;
      padding: 20rpx 10rpx 20rpx 30rpx;
      box-sizing: border-box;
      background-color: #fff;
      box-shadow: 0rpx 5rpx 11rpx 2rpx rgba(0, 0, 0, 0.09);
      border-radius: 14rpx 14rpx 14rpx 14rpx;
      overflow-y: scroll;

      .top_tit {
        width: 100%;
        height: 60rpx;
        line-height: 50rpx;
        overflow: hidden;
        font-weight: bold;
        font-size: 28rpx;
        color: #191919;
        border-bottom: 4rpx solid #EFEFEF;
        margin-bottom: 20rpx;
      }

      .info_item {
        width: 100%;
        height: 60rpx;
        line-height: 60rpx;
        display: flex;
        align-items: center;

        .label {
          min-width: 100rpx;
          line-height: 50rpx;
          font-size: 26rpx;
          color: #AAAAAA;
        }

        .value {
          flex: 1;
          margin-left: 20rpx;
          line-height: 50rpx;
          font-size: 26rpx;
          color: #000000;
          white-space: nowrap;
          /* ä¸æ¢è¡Œ */
          overflow: hidden;
          /* æº¢å‡ºéšè— */
          text-overflow: ellipsis;
          /* è¶…å‡ºéƒ¨åˆ†æ˜¾ç¤ºçœç•¥å· */

          .copy {
            width: 30rpx;
            height: 30rpx;
            margin-left: 10rpx;
            margin-bottom: 15rpx;
          }
        }

      }

      .basic_info {
        width: 100%;
        padding-bottom: 20rpx;
        margin-bottom: 20rpx;
        border-bottom: 4rpx solid #EFEFEF;
      }

      .car_boxs {
        width: 100%;
        padding-bottom: 20rpx;
        margin-bottom: 20rpx;
        border-bottom: 4rpx solid #EFEFEF;
      }


    }

    .foot_box {
      width: 100%;
      height: 120rpx;
      margin-top: 30rpx;
      display: flex;
      align-items: center;
      justify-content: space-between;

      .footBtn {
        width: 45%;
        height: 88rpx;
        background: linear-gradient(90deg, #1082FF 0%, #5FA9FF 100%);
        border-radius: 14rpx 14rpx 14rpx 14rpx;
        font-size: 36rpx;
        color: #FFFFFF;
        text-align: center;
        line-height: 88rpx;
      }
    }
  }

}
</style>